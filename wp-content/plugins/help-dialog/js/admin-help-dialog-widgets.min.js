jQuery(document).ready(function(t){function i(){let e=t(".ephd-all-questions-list-container .ephd-faq-question-container").length,i=t(".ephd-all-questions-list-container .ephd-faq-question--active").length;t("#ephd-admin__no-question-message, #ephd-admin__assigned-question-message").hide(),0===e&&t("#ephd-admin__no-question-message").show(),0===i&&e>0&&t("#ephd-admin__assigned-question-message").show()}function a(){let e=t(".ephd-wp__widget-form #ephd-admin__notification-launcher-powered-by");"hide"==t('.ephd-wp__widget-form .ephd-input-group input[name="launcher_powered_by"]:checked').val()?e.show():e.hide()}function n(){t(".ephd-hd-faq__faqs-container").sortable({axis:"y",forceHelperSize:!0,forcePlaceholderSize:!0,placeholder:"ephd-sortable-placeholder",update:function(e,i){let a=new Array;t(this).find(".ephd-hd-faq__list__item-container").each(function(e){a.push(t(this).data("id"))}),t(".ephd-wp__widget-form--active").find('[name="faqs_sequence"]').val(a.join(","))}})}function o(){return window.location.hash.substr(1).split("&").reduce(function(e,t){let i=t.split("=");return e[i[0]]=i[1],e},{})}function d(){t("#ephd-help-dialog #ephd-hd__search-terms").prop("disabled",!0)}function _(){t(".ephd-wp__widget-form .ephd-wp__selected-locations-list").each(function(){let e=0,i=t(this).find("li");i.each(function(){++e<=15?t(this).removeClass("ephd-wp__location--hidden"):t(this).addClass("ephd-wp__location--hidden")});let a=t(this).closest(".ephd-wp__selected-locations-popup").find("a");i.length<=15?a.hide():a.show()})}function c(){let e=t('.ephd-wp__widget-form .ephd-admin__form-tab-wrap--search input[name="search_option"]'),i=t('.ephd-wp__widget-form .ephd-admin__form-tab-wrap--search input[name="search_posts"]'),a=t('.ephd-wp__widget-form .ephd-admin__form-tab-wrap--search select[name="search_kb"]');!0===t(e).prop("checked")?(i.parent().removeClass("ephd-admin__input-disabled"),a.parent().removeClass("ephd-admin__input-disabled"),i.prop("disabled",!1),a.prop("disabled",!1)):(i.parent().addClass("ephd-admin__input-disabled"),a.parent().addClass("ephd-admin__input-disabled"),i.prop("disabled",!0),a.prop("disabled",!0))}function s(){t(".ephd-wp__widget-form .ephd-admin__input-disabled").each(function(){t(this).find("input, select, textarea").prop("disabled",!0)})}function l(a){if(i(),t(a).closest(".ephd-admin__input-disabled").length>0)return e.preventDefault(),!1;k(p(t(a).closest(".ephd-wp__widget-form--active"),"ephd_update_preview"),function(e){e.error||void 0===e.preview||(t(".ephd-wp__widget-preview-content").html(e.preview),t("#ephd-public-styles-inline-css").html(e.demo_styles),setTimeout(function(){t(window).trigger("resize")},50),w(),n(),d(),q())},!1,!1,void 0,t(".ephd-wp__widget-preview-content"))}function p(e,i){let a=e.find('[name="widget_id"]').val();return{action:i,_wpnonce_ephd_ajax_action:ephd_help_dialog_vars.nonce,widget_id:a,widget_status:e.find('[name="widget_status"]').val(),design_id:e.find('[name="design_id"]').val(),colors_set:e.find('[name="colors_set"]:checked').val(),dialog_width:e.find('[name="dialog_width"]:checked').val(),saved_preset_id:e.find('[name="saved_preset_id"]').val(),faqs_sequence:e.find('[name="faqs_sequence"]').val().split(","),widget_name:e.find('[name="widget_name"]').val(),contact_form_id:e.find('[name="contact_form_id"]').val(),search_option:e.find('[name="search_option"]:checked').length?"show_search":"hide_search",search_posts:e.find('[name="search_posts"]:checked').length?"on":"off",search_kb:e.find('[name="search_kb"]').val(),location_pages_list:r(e,"page"),location_posts_list:r(e,"post"),location_cpts_list:r(e,"cpt"),is_opened:t(".ephd-hd-toggle").hasClass("ephd-hd-toggle--on")?1:0,logo_image_url:e.find('[name="logo_image_url"]').val(),container_desktop_width:e.find('[name="container_desktop_width"]').val(),container_tablet_width:e.find('[name="container_tablet_width"]').val(),tablet_break_point:e.find('[name="tablet_break_point"]').val(),mobile_break_point:e.find('[name="mobile_break_point"]').val(),preview_post_mode:e.find('[name="preview_post_mode"]:checked').val(),preview_kb_mode:e.find('[name="preview_kb_mode"]').length?e.find('[name="preview_kb_mode"]:checked').val():"",launcher_mode:e.find('[name="launcher_mode"]:checked').val(),launcher_icon:e.find('[name="launcher_icon"]:checked').val(),launcher_location:e.find('[name="launcher_location"]:checked').val(),launcher_text:e.find('[name="launcher_text"]').val(),launcher_bottom_distance:e.find('[name="launcher_bottom_distance"]').val(),initial_message_toggle:e.find('[name="initial_message_toggle"]:checked').val(),initial_message_text:e.find('[name="initial_message_text"]').val(),initial_message_mode:e.find('[name="initial_message_mode"]:checked').val(),initial_message_image_url:e.find('[name="initial_message_image_url"]').val(),initial_message_id:e.find('[name="initial_message_id"]').val(),launcher_powered_by:e.find('[name="launcher_powered_by"]:checked').val(),dialog_display_mode:e.find('[name="dialog_display_mode"]:checked').val(),launcher_start_wait:e.find('[name="launcher_start_wait"]').val(),contact_name_toggle:e.find('[name="contact_name_toggle"]:checked').val(),contact_subject_toggle:e.find('[name="contact_subject_toggle"]:checked').val(),contact_acceptance_checkbox:e.find('[name="contact_acceptance_checkbox"]:checked').val(),contact_acceptance_title_toggle:e.find('[name="contact_acceptance_title_toggle"]:checked').val(),faqs_top_tab:e.find('[name="faqs_top_tab"]').val(),contact_us_top_tab:e.find('[name="contact_us_top_tab"]').val(),welcome_title:e.find('[name="welcome_title"]').val(),welcome_text:e.find('[name="welcome_text"]').val(),search_input_placeholder:e.find('[name="search_input_placeholder"]').val(),article_read_more_text:e.find('[name="article_read_more_text"]').val(),search_results_title:e.find('[name="search_results_title"]').val(),breadcrumb_home_text:e.find('[name="breadcrumb_home_text"]').val(),breadcrumb_search_result_text:e.find('[name="breadcrumb_search_result_text"]').val(),breadcrumb_article_text:e.find('[name="breadcrumb_article_text"]').val(),found_faqs_tab_text:e.find('[name="found_faqs_tab_text"]').val(),found_articles_tab_text:e.find('[name="found_articles_tab_text"]').val(),found_posts_tab_text:e.find('[name="found_posts_tab_text"]').val(),no_results_found_title_text:e.find('[name="no_results_found_title_text"]').val(),protected_article_placeholder_text:e.find('[name="protected_article_placeholder_text"]').val(),search_input_label:e.find('[name="search_input_label"]').val(),no_result_contact_us_text:e.find('[name="no_result_contact_us_text"]').val(),contact_title_header:e.find('[name="contact_title_header"]').val(),contact_title:e.find('[name="contact_title"]').val(),contact_name_text:e.find('[name="contact_name_text"]').val(),contact_user_email_text:e.find('[name="contact_user_email_text"]').val(),contact_subject_text:e.find('[name="contact_subject_text"]').val(),contact_comment_text:e.find('[name="contact_comment_text"]').val(),contact_acceptance_text:e.find('[name="contact_acceptance_text"]').val(),contact_acceptance_title:e.find('[name="contact_acceptance_title"]').val(),contact_button_title:e.find('[name="contact_button_title"]').val(),contact_success_message:e.find('[name="contact_success_message"]').val(),launcher_background_color:e.find('[name="launcher_background_color"]').val(),launcher_background_hover_color:e.find('[name="launcher_background_hover_color"]').val(),launcher_icon_color:e.find('[name="launcher_icon_color"]').val(),launcher_icon_hover_color:e.find('[name="launcher_icon_hover_color"]').val(),background_color:e.find('[name="background_color"]').val(),not_active_tab_color:e.find('[name="not_active_tab_color"]').val(),tab_text_color:e.find('[name="tab_text_color"]').val(),main_title_text_color:e.find('[name="main_title_text_color"]').val(),welcome_title_color:e.find('[name="welcome_title_color"]').val(),found_faqs_article_active_tab_color:e.find('[name="found_faqs_article_active_tab_color"]').val(),found_faqs_article_tab_color:e.find('[name="found_faqs_article_tab_color"]').val(),article_post_list_title_color:e.find('[name="article_post_list_title_color"]').val(),article_post_list_icon_color:e.find('[name="article_post_list_icon_color"]').val(),breadcrumb_color:e.find('[name="breadcrumb_color"]').val(),breadcrumb_background_color:e.find('[name="breadcrumb_background_color"]').val(),breadcrumb_arrow_color:e.find('[name="breadcrumb_arrow_color"]').val(),faqs_qa_border_color:e.find('[name="faqs_qa_border_color"]').val(),faqs_question_text_color:e.find('[name="faqs_question_text_color"]').val(),faqs_question_background_color:e.find('[name="faqs_question_background_color"]').val(),faqs_question_active_text_color:e.find('[name="faqs_question_active_text_color"]').val(),faqs_question_active_background_color:e.find('[name="faqs_question_active_background_color"]').val(),faqs_answer_text_color:e.find('[name="faqs_answer_text_color"]').val(),faqs_answer_background_color:e.find('[name="faqs_answer_background_color"]').val(),single_article_read_more_text_color:e.find('[name="single_article_read_more_text_color"]').val(),single_article_read_more_text_hover_color:e.find('[name="single_article_read_more_text_hover_color"]').val(),back_text_color:e.find('[name="back_text_color"]').val(),back_text_color_hover_color:e.find('[name="back_text_color_hover_color"]').val(),back_background_color:e.find('[name="back_background_color"]').val(),back_background_color_hover_color:e.find('[name="back_background_color_hover_color"]').val(),contact_submit_button_color:e.find('[name="contact_submit_button_color"]').val(),contact_submit_button_hover_color:e.find('[name="contact_submit_button_hover_color"]').val(),contact_submit_button_text_color:e.find('[name="contact_submit_button_text_color"]').val(),contact_submit_button_text_hover_color:e.find('[name="contact_submit_button_text_hover_color"]').val(),contact_acceptance_background_color:e.find('[name="contact_acceptance_background_color"]').val()}}function r(e,i){let a=[];return e.find(".ephd-wp__locations-list-select--"+i+" .ephd-wp__locations-list-wrap > .ephd-wp__selected-locations-list li").each(function(){a.push(t(this).data("id"))}),a}function h(){if(!t(".ephd-fp__wp-editor").hasClass("active"))return;let e=tinymce.get("ephd-fp__wp-editor");t(".ephd-fp__wp-editor__language-"+z).length&&(t(".ephd-fp__wp-editor__language").removeClass("ephd-fp__wp-editor__language--active"),t(".ephd-fp__wp-editor__language-"+z).addClass("ephd-fp__wp-editor__language--active")),void 0===O[z]&&(O[z]={title:"",content:"",faq_id:0,id:0}),t("#ephd-fp__wp-editor__question-title").val(O[z].title),null==e?t("#ephd-fp__wp-editor").val(O[z].content):e.setContent(O[z].content),t(".ephd-characters_left-counter").text(O[z].content.length+"")}function f(e){S=setInterval(u,1e3);for(let e in O)O[e]={title:"",content:"",faq_id:0,id:0};if(void 0===e||!e)return t(".ephd-fp__wp-editor").addClass("active"),void h();k({action:"ephd_get_question_data",question_id:e,_wpnonce_ephd_ajax_action:ephd_help_dialog_vars.nonce},function(e){if(!e.error&&void 0!==e.data){for(let t in e.data)O[t]=e.data[t];void 0!==e.language&&e.language&&(z=e.language),t(".ephd-fp__wp-editor").addClass("active"),h()}})}function u(){let e=t("#ephd-fp__wp-editor__question-title");if(e.length){let i=e.val().length;i>200?(t(".ephd-fp__wp-editor__question .ephd-characters_left-counter").text(200),e.val(e.val().substring(0,200))):t(".ephd-fp__wp-editor__question .ephd-characters_left-counter").text(i)}if(t("#ephd-fp__wp-editor").length){let e=tinymce.get("ephd-fp__wp-editor"),i="";(i=e&&t(".wp-editor-wrap").hasClass("tmce-active")?e.getContent():t("#ephd-fp__wp-editor").val()).length>1500&&(i=i.substring(0,1500),e&&e.setContent(i),t("#ephd-fp__wp-editor").val(i)),t(".ephd-fp__wp-editor__answer .ephd-characters_left-counter").text(i.length)}}function m(){tinyMCE.triggerSave(),O[z].title=t("#ephd-fp__wp-editor__question-title").val(),O[z].content=t("#ephd-fp__wp-editor").val()}function g(){t(".ephd-all-questions-list-container .ephd-faq-question-container.ephd-faq-question--active").length?t(".ephd__top-section__filter label, #ephd_all_articles_filter").removeClass("ephd__top-section__filter--disabled"):t("#ephd_all_articles_filter").val()?t(".ephd__top-section__filter label, #ephd_all_articles_filter").removeClass("ephd__top-section__filter--disabled"):t(".ephd__top-section__filter label, #ephd_all_articles_filter").addClass("ephd__top-section__filter--disabled")}function w(){t(".ephd-wp__widget-preview #ephd-help-dialog .ephd-hd-faq__list__item-container").each(function(){let e=t(this).data("id"),i=t(".ephd-wp__widget-form--active .ephd-faq-question__buttons_template").html();t(i).appendTo(this).attr("data-id",e)})}function v(){let e=t(".ephd-all-questions-list-container"),i=e.children(".ephd-faq-question-container");i.detach().sort(function(e,i){let a=t(e).data("modified"),n=t(i).data("modified");return parseInt(a)<=parseInt(n)?0:-1}),e.append(i)}function b(){t('.ephd-admin__color-field input[type="text"]').wpColorPicker({change:function(e,i){setTimeout(function(){t(e.target).trigger("change")},50)}})}function q(){let e=t("#ephd-help-dialog");t(document.body).off("click",".ephd-hd-tab"),t(document.body).on("click",".ephd-hd-tab",function(){if(t(this).hasClass("ephd-hd-tab--disabled"))return;switch(t(this).attr("data-ephd-target-tab")){case"faqs":e.addClass("ephd-hd-faqs-tab--active"),e.removeClass("ephd-hd-contact-tab--active");break;case"contact":e.addClass("ephd-hd-contact-tab--active"),e.removeClass("ephd-hd-faqs-tab--active"),e.removeClass("ephd-hd-search--active")}e.find(".ephd-hd-tab").removeClass("ephd-hd-tab--active"),t(this).addClass("ephd-hd-tab--active")})}function k(e,i,a,n,o,d){let _,c;i=void 0===i?"ephd_callback_noop":i,t.ajax({type:"POST",dataType:"json",data:e,url:ajaxurl,beforeSend:function(e){void 0!==d&&!1!==d||x("show",""),"object"==typeof d&&x("show","",d)}}).done(function(e){((c=e||"").error||void 0===c.message)&&(_=c.message?c.message:C("",ephd_vars.reload_try_again,"error"))}).fail(function(e,t,i){_=i?" ["+i+"]":ephd_vars.unknown_error,_=C(ephd_vars.error_occurred+". "+ephd_vars.msg_try_again,_,"error")}).always(function(){if(c=void 0===c?"":c,"function"==typeof o&&o(c),void 0!==d&&!1!==d||x("remove",""),"object"==typeof d&&x("remove","",d),_)return t(".ephd-bottom-notice-message").remove(),t("body #ephd-admin-page-wrap").append(_).removeClass("fadeOutDown"),void setTimeout(function(){t(".ephd-bottom-notice-message").addClass("fadeOutDown")},1e4);"function"==typeof i?"undefined"===a?i(c):i(c,a):n&&location.reload()})}function x(e,i,a){if("show"===e){let e=void 0===a?"":"ephd-admin-dialog-box-loading--relative",n='<div class="ephd-admin-dialog-box-loading '+e+'"><div class="ephd-admin-dbl__header"><div class="ephd-admin-dbl-icon ephdfa ephdfa-hourglass-half"></div>'+(i?'<div class="ephd-admin-text">'+i+"</div>":"")+'</div></div><div class="ephd-admin-dialog-box-overlay '+e+'"></div>';void 0===a?t("body").append(n):a.append(n).addClass("ephd-loading-white-opacity")}else"remove"===e&&(t(".ephd-admin-dialog-box-loading").remove(),t(".ephd-admin-dialog-box-overlay").remove(),void 0!==a&&a.removeClass("ephd-loading-white-opacity"))}function C(e,t,i){return'<div class="ephd-bottom-notice-message"><div class="contents"><span class="'+i+'">'+(e?"<h4>"+e+"</h4>":"")+(t?"<p>"+t+"</p>":"")+'</span></div><div class="ephd-close-notice ephdfa ephdfa-window-close"></div></div>'}function y(e,i=""){t(".ephd-bottom-notice-message").remove(),t("body #ephd-admin-page-wrap").append(C(i,e,"error")),clearTimeout(P),P=setTimeout(function(){t(".ephd-bottom-notice-message").addClass("fadeOutDown")},1e4)}function T(e,i=""){t(".ephd-bottom-notice-message").remove(),t("body #ephd-admin-page-wrap").append(C(i,e,"success")),clearTimeout(P),P=setTimeout(function(){t(".ephd-bottom-notice-message").addClass("fadeOutDown")},1e4)}function j(){if(0==t("#initial_message_mode").length)return;if(0==t("#initial_message_mode").find("input:checked").length)return;"icon_text"==t("#initial_message_mode").find("input:checked").val()?t("#initial_message_image_url_group").show():t("#initial_message_image_url_group").hide()}t(".ephd-admin__reload-link").on("click",function(){t('.ephd-admin__top-panel__item[data-target="'+t(this).attr("href").replace("#","")+'"]').trigger("click")}),t(document).on("click",".ephd-hd-toggle",function(){t(".ephd-hd-toggle").hasClass("ephd-hd-toggle--on")?t(".ephd-wp__widget-preview-tooltip").hide():setTimeout(function(){t(".ephd-wp__widget-preview-tooltip").show()},400)}),t(document).on("change",'.ephd-wp__widget-form .ephd-input-group input[name="launcher_powered_by"]',function(){a()}),t(document.body).on("click",".ephd-admin__widget-preview .ephd-admin__widget-preview__sub-items-btn",function(){return t(this).closest(".ephd-admin__widget-preview__content-list").find(".ephd-admin__widget-details-popup").addClass("ephd-admin__widget-details-popup--active"),!1}),t(document.body).on("click",".ephd-wp__selected-locations-popup .ephd-wp__popup-show-btn",function(){return t(this).closest(".ephd-wp__selected-locations-popup").find(".ephd-admin__widget-details-popup").addClass("ephd-admin__widget-details-popup--active"),!1}),t(document.body).on("click",".ephd-admin__widget-details-popup__overlay, .ephd-admin__widget-details-popup__accept-btn",function(){t(".ephd-admin__widget-details-popup").removeClass("ephd-admin__widget-details-popup--active")}),setTimeout(function(){let e=o();void 0!==e.widget&&t(".ephd-admin__widget-preview--"+e.widget+" input.ephd_edit_widget").trigger("click")},50),t(document.body).on("input click",".ephd-wp__widget-form .ephd-wp__locations-list-input",function(e){let i=t(this).closest(".ephd-wp__widget-form"),a=t(this),n=a.val(),o=a.data("post-type");setTimeout(function(){if(n!==a.val())return;let e={action:"ephd_search_locations",_wpnonce_ephd_ajax_action:ephd_help_dialog_vars.nonce,locations_type:o,search_value:n,excluded_ids:function(e){let t=r(e,"page"),i=r(e,"post"),a=r(e,"cpt");return t.concat(i).concat(a)}(i)};!function(e){let t=e.closest(".ephd-wp__locations-list-search-body");t.length&&t.find(".ephd-wp__locations-list-input-wrap").addClass("ephd-wp__locations-list-input-wrap--loader")}(a),k(e,function(e){!function(e){let t=e.closest(".ephd-wp__locations-list-search-body");t.length&&t.find(".ephd-wp__locations-list-input-wrap").removeClass("ephd-wp__locations-list-input-wrap--loader")}(a),e.error||void 0===e.locations||i.find(".ephd-wp__locations-list-select--"+o+" .ephd-wp__found-locations-list").html(e.locations).show()},!1,!1,void 0,"no-loader")},500)}),t(document).on("click",".ephd-wp__widget-form .ephd-wp__found-locations-list li",function(e){if(e.stopPropagation(),t(this).find(".ephd-wp__location-assigns").length>0)return!1;t(this).appendTo(t(this).parent().parent().find(".ephd-wp__selected-locations-list")),_()}),t(document).on("click",function(){t(".ephd-wp__found-locations-list").html("").hide()}),t(document).on("click",".ephd-wp__widget-form .ephd-wp__selected-locations-list li",function(){let e=t(this).data("id");t('.ephd-wp__widget-form .ephd-wp__selected-locations-list li[data-id="'+e+'"]').remove(),_()}),t(document).on("click",".ephd-notification-box-basic__body__desc .ephd-hd__wizard-link",function(){t('.ephd-admin__top-panel__item[data-target="'+t(this).data("target")+'"]').trigger("click")}),t(document).on("click",".ephd-admin__widget-preview .ephd_edit_widget, .ephd-wp__create-new-widget-btn",function(e){e.preventDefault();let _=t(this).data("id"),l=t(this).closest(".ephd-admin__section-wrap").find(".ephd-admin__widget-preview").length,p="Widget #"+ ++l;k({action:"ephd_load_widget_form",_wpnonce_ephd_ajax_action:ephd_help_dialog_vars.nonce,widget_id:void 0!==_?_:0,widget_name:p},function(e){e.error||void 0===e.message||(t(".ephd-admin__boxes-list__box-btn-wrap").hide(),t(".ephd-wp__widget-form").replaceWith(e.widget_form),t(".ephd-wp__widget-preview-content").html(e.preview),t(".ephd-admin__widget-preview").hide(),t("#ephd-public-styles-inline-css").html(e.demo_styles),s(),w(),c(),i(),g(),a(),n(),d(),setTimeout(function(){t(window).trigger("resize")},50),setTimeout(function(){let e=o();void 0!==e.tab&&t('.ephd-admin__form-tab[data-target="'+e.tab+'"]').trigger("click")},50),setTimeout(function(){void 0===_&&t(".ephd-wp__widget-form .ephd-wp__widget-action__draft-btn").trigger("click")},50),b(),q())})}),t(document).on("click",".ephd-wp__widget-form .ephd-wp__widget-action__publish-btn, .ephd-wp__widget-form .ephd-wp__widget-action__draft-btn",function(e){e.preventDefault();let n=t(this).closest(".ephd-wp__widget-form");t(this).hasClass("ephd-wp__widget-action__publish-btn")&&n.find('[name="widget_status"]').val("published"),t(this).hasClass("ephd-wp__widget-action__draft-btn")&&n.find('[name="widget_status"]').val("draft");let o=p(n,"ephd_update_widget"),d=n.find(".ephd-admin__form-tab--active").data("target");return k(o,function(e){e.error||void 0===e.message||(T(e.message),n.replaceWith(e.widget_form),t("#ephd-public-styles-inline-css").html(e.demo_styles),t(".ephd-admin__widget-preview--"+o.widget_id).length?t(".ephd-admin__widget-preview--"+o.widget_id).replaceWith(e.widget_preview):t(".ephd-admin__section-wrap__widgets").append(e.widget_preview),t(".ephd-admin__widget-preview").hide(),t('.ephd-admin__form-tab[data-target="'+d+'"]').trigger("click"),s(),c(),setTimeout(function(){t(window).trigger("resize")},50),i(),a(),w(),b())}),!1}),t(document).on("click",".ephd-wp__delete-widget-wrap input.ephd_delete_widget",function(e){t("#ephd-wp__delete-widget-confirmation").addClass("ephd-dialog-box-form--active")}),t(document).on("submit","#ephd-wp__delete-widget-confirmation",function(e){e.preventDefault();let i=t(this),a=t(".ephd-wp__widget-form"),n=a.find('[name="widget_id"]').val();return k({action:"ephd_delete_widget",_wpnonce_ephd_ajax_action:ephd_help_dialog_vars.nonce,widget_id:n},function(e){e.error||void 0===e.message||(T(e.message),i.removeClass("ephd-dialog-box-form--active"),a.removeClass("ephd-wp__widget-form--active"),t(".ephd-admin__widget-preview").show(),t(".ephd-admin__widget-preview--"+n).fadeOut(function(){t(this).remove()}),t(".ephd-admin__boxes-list__box-btn-wrap").show())}),!1}),t(document).on("click",".ephd_cancel_widget",function(e){return e.preventDefault(),t(".ephd-wp__widget-form").removeClass("ephd-wp__widget-form--active"),t(".ephd-wp__widget-preview").hide(),t(".ephd-admin__widget-preview").show(),t(".ephd-admin__boxes-list__box-btn-wrap").show(),!1}),t(document).on("click",".ephd-wp__widget-action__save-options-toggle",function(){t(this).closest(".ephd-wp__widget-form").find(".ephd-wp__widget-action__save-options-list").toggle()}),t(document).on("click",".ephd-wp__widget-form .ephd-admin__form-tab",function(){let e=t(this).data("target"),i=t(this).closest(".ephd-wp__widget-form");i.find(".ephd-admin__form-tab").removeClass("ephd-admin__form-tab--active"),i.find(".ephd-admin__form-tab-wrap").removeClass("ephd-admin__form-tab-wrap--active"),t(this).addClass("ephd-admin__form-tab--active"),i.find(".ephd-admin__form-tab-wrap--"+e).addClass("ephd-admin__form-tab-wrap--active"),t(this).data("preview")?(t(".ephd-wp__widget-preview").show(),setTimeout(function(){t(window).trigger("resize")},50)):t(".ephd-wp__widget-preview").hide(),j()}),t(document).on("click",".ephd-wp__widget-form .ephd-admin__form-sub-tab",function(){let e=t(this).data("target"),i=t(this).closest(".ephd-wp__widget-form");i.find(".ephd-admin__form-sub-tab").removeClass("ephd-admin__form-sub-tab--active"),i.find(".ephd-admin__form-sub-tab-content").removeClass("ephd-admin__form-sub-tab-content--active"),t(this).addClass("ephd-admin__form-sub-tab--active"),i.find(".ephd-admin__form-sub-tab-content--"+e).addClass("ephd-admin__form-sub-tab-content--active")}),t(document).on("change",".ephd-wp__widget-form .ephd-admin__form-tab-wrap--faqs select, .ephd-wp__widget-form .ephd-admin__form-tab-wrap--search select",function(){if("new"===t(this).val())return window.open(t(this).data("src")),void t(this).val(t(this).data("value"));t(this).data("value",t(this).val()),l(this)}),t(document).on("click",'.ephd-wp__widget-form .ephd-admin__form-tab-wrap--faqs input[type="checkbox"]',function(){l(this)}),t(document).on("click",'.ephd-wp__widget-form .ephd-admin__form-tab-wrap--search input[type="checkbox"]',function(){l(this),"search_option"===t(this).attr("name")&&c()}),t(document).on("change",'.ephd-wp__widget-form .ephd-admin__form-tab-wrap--labels input[type="text"]',function(){l(this)});let D;t(document).on("change",'.ephd-wp__widget-form .ephd-admin__form-tab-wrap--colors .ekb-color-picker input[type="text"]',function(){clearTimeout(D),D=setTimeout(function(e){l(e)},300,this)}),t(document).on("change",".ephd-wp__widget-form .ephd-admin__form-tab-wrap--global-settings input",function(){l(this)}),t(document).on("click",'.ephd-wp__widget-form .ephd-wp__options-container--predefined-colors input[type="radio"]',function(){l(this)}),t(document).on("click",'.ephd-wp__widget-form .ephd-wp__options-container--premade-designs input[type="radio"]',function(){t(this).closest(".ephd-wp__widget-form").find(".ephd-btn-checked-icon").removeClass("ephd-btn-checked-icon--active"),t(this).parent().find(".ephd-btn-checked-icon").addClass("ephd-btn-checked-icon--active")}),t(document).on("change",".ephd-wp__widget-form .ephd-wp__options-container--copy-design-from select",function(){let e=t(this).closest(".ephd-wp__widget-form");e.find('[name="colors_set"]').prop("checked",!1),e.find('[name="dialog_width"]').prop("checked",!1),l(this)}),t(document).on("change",".ephd-wp__widget-form .ephd-wp__options-container--copy-design-to select",function(){let e=t(this),i=e.closest(".ephd-wp__widget-form");k({action:"ephd_copy_design_to",_wpnonce_ephd_ajax_action:ephd_help_dialog_vars.nonce,current_design_id:i.find('[name="design_id"]').val(),target_design_id:t(this).val()},function(t){t.error||void 0===t.message||(T(t.message),e.val(e.data("value")))})});new MutationObserver(function(e){for(let i of e)i.removedNodes.length&&void 0!==i.removedNodes[0].id&&"ephd-editor-popup"==i.removedNodes[0].id&&l(t(".ephd-wp__widget-form--active"))}).observe(document.getElementsByTagName("body")[0],{childList:!0}),t(document).on("click",".ephd-wp__tiny-mce-input--no-results-found-content-html .ephd_tiny_mce_input_save",function(){let e=t(this).closest(".ephd-wp__tiny-mce-input");k({action:"ephd_tiny_mce_input_save",_wpnonce_ephd_ajax_action:ephd_help_dialog_vars.nonce,design_id:e.find('[name="design_id"]').val(),option_name:"no_results_found_content_html",option_value:t("#wp-no_results_found_content_wpeditor-wrap").hasClass("tmce-active")?tinymce.activeEditor.getContent():t("#no_results_found_content_wpeditor").val()},function(e){e.error||void 0===e.message||T(e.message)})}),t(document).on("click",".ephd-wp__new-widget-form .ephd-wp__editor-link .ephd-wp__widget-form__cta-link",function(e){return e.preventDefault(),e.stopPropagation(),t("#ephd-wp__save-widget-confirmation").addClass("ephd-dialog-box-form--active"),!1}),t(document).on("submit","#ephd-wp__save-widget-confirmation",function(e){return e.preventDefault(),t(this).removeClass("ephd-dialog-box-form--active"),t(this).closest(".ephd-wp__new-widget-form").find(".ephd-wp__widget-action__save-btn").trigger("click"),!1});let S=!1,O={},z="";t(".ephd-fp__wp-editor__languages").length?(t(".ephd-fp__wp-editor__language").each(function(){O[t(this).data("slug")]={title:"",content:"",faq_id:0,id:0}}),z=t(".ephd-fp__wp-editor__language").first().data("slug")):(O[ephd_vars.default_language]={title:"",content:"",faq_id:0,id:0},z=ephd_vars.lang),t(".ephd__help_editor__action__cancel, .ephd-fp__wp-editor__overlay").on("click",function(){return t(".ephd-fp__wp-editor").removeClass("active"),clearInterval(S),!1}),t("#ephd-fp__article-form").on("submit",function(e){if(e.preventDefault(),u(),m(),void 0===O[ephd_vars.default_language])return y(ephd_vars.reload_try_again),!1;if(!O[ephd_vars.default_language].title)return y(ephd_vars.empty_default_language),t(".ephd-fp__wp-editor__language-"+ephd_vars.default_language).trigger("click"),!1;let a={action:"ephd_save_question_data",_wpnonce_ephd_ajax_action:ephd_help_dialog_vars.nonce,faqs_id:t("#faqs_id").val(),direction:"right",question_languages:[]};for(let e in O)a.question_languages.push(e),a["question_id_"+e]=O[e].id,a.question_faq_id||(a.question_faq_id=O[e].faq_id),a["question_title_"+e]=O[e].title,a["question_content_"+e]=O[e].content;return k(a,function(e){e.error||void 0===e.message||(T(e.message),e.data.forEach(function(e){t(".ephd-faq-question--"+e.faq_id).length?t(".ephd-faq-question--"+e.faq_id+" .ephd-faq-question__text").text(e.title):t(e.html).appendTo(".ephd-all-questions-list-container").addClass("ui-sortable-handle")}),t(".ephd-fp__wp-editor").removeClass("active"),v(),i(),g(),l(t(".ephd-wp__widget-form--active").find('[name="faqs_sequence"]')))}),!1}),t(".ephd-fp__wp-editor__language").on("click",function(){m(),z=t(this).data("slug"),h()}),t(document).on("click","#ephd-fp__add_new_question",function(e){return e.preventDefault(),f(),!1}),t(document).on("click",".ephd-faq-question__edit",function(){f(t(this).closest(".ephd-faq-question").data("id"))}),t(document).on("change keyup","#ephd_all_articles_filter",function(){let e=t(this).val().toLowerCase().trim(),i=t(".ephd-wp__widget-form--active").find('[name="faqs_sequence"]').val().split(",");t(".ephd-all-questions-list-container .ephd-faq-question-container").each(function(){if(i.includes(t(this).data("id").toString()))return;let a=t(this).find(".ephd-faq-question__text").text();!e.length||~a.toLowerCase().indexOf(e)?t(this).addClass("ephd-faq-question--active"):t(this).removeClass("ephd-faq-question--active")}),g()}),t(document).on("click",".ephd-faq-question__delete",function(){let e=t(this).closest(".ephd-faq-question-container").data("id");if(void 0===e||!e)return void y(ephd_vars.reload_try_again);t("#ephd-fp_delete-question-confirmation-id").val(e);let i=t("#ephd-fp_delete-question-confirmation"),a=t('.ephd-wp__widget-form--active input[name="widget_id"]').val();t(".ephd-admin__confirm-dialog-assigned-widgets").hide(),i.find(".ephd-admin__confirm-dialog-assigned-widget").each(function(){t(this).data("faq-sequence").toString().split(",").includes(e.toString())&&t(this).data("widget-id").toString()!==a.toString()?(t(".ephd-admin__confirm-dialog-assigned-widgets").show(),t(this).show()):t(this).hide()}),i.addClass("ephd-dialog-box-form--active")}),t("#ephd-fp_delete-question-confirmation form").on("submit",function(){let e=t("#ephd-fp_delete-question-confirmation-id").val();if(void 0===e||!e)return void y(ephd_vars.reload_try_again);return k({action:"ephd_delete_question",faq_id:e,_wpnonce_ephd_ajax_action:ephd_help_dialog_vars.nonce},function(a){a.error||void 0===a.message||(T(a.message),t(".ephd-faq-question--"+e+", .ephd-fp__faqs__question--"+e).remove()),i(),t("#ephd-fp_delete-question-confirmation").removeClass("ephd-dialog-box-form--active")}),!1}),t(document).on("click",".ephd-faq-question__move_right",function(){let e=t(this).closest(".ephd-faq-question").data("id"),i=t(".ephd-wp__widget-form--active").find('[name="faqs_sequence"]'),a=i.val().split(",");t(".ephd-wp__widget-form--active .ephd-faq-question--"+e).addClass("ephd-faq-question--active"),a=a.filter(function(t){return t!=e}),i.val(a),l(i),g()}),t(document).on("click",".ephd-faq-question__add",function(){let e=t(this).closest(".ephd-faq-question-container").data("id"),i=t(this).closest(".ephd-wp__widget-form--active").find('[name="faqs_sequence"]'),a=i.val().split(",");t(this).closest(".ephd-faq-question-container").removeClass("ephd-faq-question--active"),a.push(e),i.val(a),l(i),g()}),t(document).on("mouseenter",".ephd-faq-question__delete",function(){t(this).closest(".ephd-faq-question-container").addClass("ephd-faq-question--delete-highlight")}),t(document).on("mouseleave",".ephd-faq-question__delete",function(){t(this).closest(".ephd-faq-question-container").removeClass("ephd-faq-question--delete-highlight")}),t(document).on("mouseenter",".ephd-faq-question__add",function(){t(this).closest(".ephd-faq-question-container").addClass("ephd-faq-question--move_left-highlight")}),t(document).on("mouseleave",".ephd-faq-question__add",function(){t(this).closest(".ephd-faq-question-container").removeClass("ephd-faq-question--move_left-highlight")}),t(document).on("mouseenter",".ephd-faq-question__move_right",function(){t(this).closest(".ephd-faq-question-container").addClass("ephd-faq-question--move_right-highlight")}),t(document).on("mouseleave",".ephd-faq-question__move_right",function(){t(this).closest(".ephd-faq-question-container").removeClass("ephd-faq-question--move_right-highlight")}),t(document).on("mouseenter",".ephd-faq-question__edit",function(){t(this).closest(".ephd-faq-question-container").addClass("ephd-faq-question--edit-highlight")}),t(document).on("mouseleave",".ephd-faq-question__edit",function(){t(this).closest(".ephd-faq-question-container").removeClass("ephd-faq-question--edit-highlight")}),v(),g(),t("body").on("click",".ephd__hdl__action__reload input",function(){location.reload()}),t(document).on("click",".ephd-admin__input-disabled, .ephd__option-pro-tag",function(){let e=t(this).closest(".ephd-input-group").find(".ephd__option-pro-tooltip"),i=e.is(":visible");t(".ephd__option-pro-tooltip").hide(),i?e.hide():e.show()}),t(document).on("click",function(e){let i=t(e.target);i.closest(".ephd__option-pro-tooltip").length||i.closest(".ephd-admin__input-disabled").length||i.closest(".ephd__option-pro-tag").length||t(".ephd__option-pro-tooltip").hide()});let P;t("body").on("change","#initial_message_mode input",j)});